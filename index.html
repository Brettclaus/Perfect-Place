<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Perfect Place</title>

  <!-- D3 library -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""/>

  <!-- Leaflet JavaScript code -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""></script>

  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
  <!-- The div that holds our map -->
<div id="map-id"></div>

  <!-- Range Filters -->
<div class="filter-container">  
  <!-- Housing Cost Filter -->
  <div class="filter-section" id="housing-cost-filter">
    <label for="minHousingCostRange">Min Housing Cost:</label>
    <input type="range" id="minHousingCostRange" min="5000" max="30000" value="5000" oninput="updateHousingCostRange()">
    <span id="minHousingCostRangeValue">5000</span>

    <label for="maxHousingCostRange">Max Housing Cost:</label>
    <input type="range" id="maxHousingCostRange" min="5000" max="30000" value="30000" oninput="updateHousingCostRange()">
    <span id="maxHousingCostRangeValue">30000</span>
  </div>

  <!-- Food Cost Filter -->
  <div class="filter-section" id="food-cost-filter">
    <label for="minFoodCostRange">Min Food Cost:</label>
    <input type="range" id="minFoodCostRange" min="5000" max="20000" value="5000" oninput="updateFoodCostRange()">
    <span id="minFoodCostRangeValue">5000</span>

    <label for="maxFoodCostRange">Max Food Cost:</label>
    <input type="range" id="maxFoodCostRange" min="5000" max="20000" value="20000" oninput="updateFoodCostRange()">
    <span id="maxFoodCostRangeValue">20000</span>
  </div>

  <!-- Tax Rate Filter -->
  <div class="filter-section" id="tax-rate-filter">
    <label for="minTaxRateRange">Min Tax Rate:</label>
    <input type="range" id="minTaxRateRange" min="4" max="40" value="5" oninput="updateTaxRateRange()">
    <span id="minTaxRateRangeValue">5</span>

    <label for="maxTaxRateRange">Max Tax Rate:</label>
    <input type="range" id="maxTaxRateRange" min="5" max="20" value="20" oninput="updateTaxRateRange()">
    <span id="maxTaxRateRangeValue">20</span>
  </div>

  <!-- Income Filter -->
  <div class="filter-section" id="income-filter">
    <label for="minIncomeRange">Min Income:</label>
    <input type="range" id="minIncomeRange" min="30000" max="100000" value="30000" oninput="updateIncomeRange()">
    <span id="minIncomeRangeValue">30000</span>

    <label for="maxIncomeRange">Max Income:</label>
    <input type="range" id="maxIncomeRange" min="30000" max="100000" value="100000" oninput="updateIncomeRange()">
    <span id="maxIncomeRangeValue">100000</span>
  </div>
</div>

  <!-- Our JavaScript file -->
  <script type="text/javascript" src="PerfectPlace.js"></script>

  <script>

document.addEventListener('DOMContentLoaded', function() {
      document.getElementById('minHousingCostRange').addEventListener('input', function() {
        updateRangeFilter('Housing Cost', 'minHousingCostRange', 'maxHousingCostRange');
      });
      document.getElementById('maxHousingCostRange').addEventListener('input', function() {
        updateRangeFilter('Housing Cost', 'minHousingCostRange', 'maxHousingCostRange');
      });

      document.getElementById('minFoodCostRange').addEventListener('input', function() {
        updateRangeFilter('Food Cost', 'minFoodCostRange', 'maxFoodCostRange');
      });
      document.getElementById('maxFoodCostRange').addEventListener('input', function() {
        updateRangeFilter('Food Cost', 'minFoodCostRange', 'maxFoodCostRange');
      });

      document.getElementById('minTaxRateRange').addEventListener('input', function() {
        updateRangeFilter('Tax Rate', 'minTaxRateRange', 'maxTaxRateRange');
      });
      document.getElementById('maxTaxRateRange').addEventListener('input', function() {
        updateRangeFilter('Tax Rate', 'minTaxRateRange', 'maxTaxRateRange');
      });

      document.getElementById('minIncomeRange').addEventListener('input', function() {
        updateRangeFilter('Income', 'minIncomeRange', 'maxIncomeRange');
      });
      document.getElementById('maxIncomeRange').addEventListener('input', function() {
        updateRangeFilter('Income', 'minIncomeRange', 'maxIncomeRange');
      });
    });
  </script>


</body>
</html>
